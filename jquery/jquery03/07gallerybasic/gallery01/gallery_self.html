<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="css1/reset (3).css">
  <link rel="stylesheet" href="css1/gallery.css">
  <script src="../../../js/jquery-3.6.0.min.js"></script>
</head>

<body>
<section>
  <h1>slide gallery</h1>
<p id="prev"><img src="img/prev.png" alt="prev"></p>
<p id="next"><img src="img/next.png" alt="next"></p>

<div id="view">
  <ul id="source">
    <li><img src="img/pic01.jpg" alt="1"></li>
    <li><img src="img/pic02.jpg" alt="2"></li>
    <li><img src="img/pic03.jpg" alt="3"></li>
    <li><img src="img/pic04.jpg" alt="4"></li>
    <li><img src="img/pic05.jpg" alt="5"></li>
  </ul>
</div>
</section>

<script>
  $(function(){
    //1.준비하기//
  let liWidth = $('#source>li').width();
  console.log(liWidth);
  $('#source>li:last').prependTo('#source');
  $('#source').css('margin-left','-'+liWidth+'px');

  //next 버튼//
  $('#next').on('click',function(e){
  $('#source').stop().animate({marginLeft:'+='+liWidth+'px'},1500,function(){
  $('#source>li:first').appendTo('#source');
  $('#source').css('margin-left','-'+liWidth+'px');
  });
  });

  //prev//
  $('#prev').on('click',function(e){
    $('#source').stop().animate({marginLeft:'-='+liWidth+'px'},1500,function(){
    $('#source>li:last').prependTo('#source');
    $('#source').css('margin-left','-'+liWidth+'px')
  });
  });

  function ani(){
    $('#source').stop().animate({marginLeft: '+='+liWidth+'px'},1500,function(){
    $('#source>li:last').prependTo('#source');
    $('#source').css('margin-left','-'+liWidth+'px');
  });
  }

  function timer(){
    str=setInterval(ani,4000);
  }
  function stop(){
    clearInterval(str);
  }
  timer();
  })
</script>
</body>
</html>